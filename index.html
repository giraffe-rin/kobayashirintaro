<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kobayashi Rintaro - Studio & Lab</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&family=Noto+Serif+JP:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        beige: '#fdf6f0',
                        ink: '#1a1a1a',
                        inkMuted: '#555555',
                        inkFaint: '#e5e5e5'
                    },
                    fontFamily: {
                        serif: ['"Noto Serif JP"', 'serif'],
                        mono: ['"Courier Prime"', 'monospace'],
                    },
                    spacing: {
                        '18': '4.5rem',
                        '22': '5.5rem',
                        '30': '7.5rem',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #fdf6f0;
            color: #1a1a1a;
            font-family: "Noto Serif JP", serif;
            font-weight: 300;
            line-height: 2;
            -webkit-font-smoothing: antialiased;
            overflow: hidden;
        }
        .font-mono {
            font-family: "Courier Prime", monospace;
        }
        
        .custom-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background-color: #d1d1d1;
            border-radius: 10px;
        }

        .fade-enter {
            animation: fadeEnter 0.5s ease-out forwards;
            opacity: 0;
        }
        @keyframes fadeEnter {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .nav-active::before {
            content: "○";
            position: absolute;
            left: -1.2rem;
            color: #d4d4aa;
        }

        .img-placeholder {
            background-color: #f0e9e2;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            font-family: "Courier Prime", monospace;
            font-size: 0.8rem;
            letter-spacing: 0.05em;
        }

        /* Prevent anchor jump from hiding content under sticky header */
        html {
            scroll-behavior: smooth;
        }
        .scroll-mt-32 {
            scroll-margin-top: 8rem;
        }
    </style>
</head>
<body class="flex flex-col md:flex-row h-screen w-full">

    <!-- Sidebar Navigation -->
    <aside class="w-full md:w-64 h-auto md:h-screen flex-shrink-0 border-b md:border-b-0 md:border-r border-inkFaint flex flex-col py-8 px-8 md:py-16 md:px-12 bg-beige z-20">
        <div class="mb-12 border-b border-inkFaint pb-4">
            <h1 class="text-sm tracking-widest font-mono">
                Kobayashi<br>Rintaro
            </h1>
        </div>
        
        <nav class="flex-grow">
            <ul class="space-y-4 font-mono text-xs tracking-wider text-inkMuted">
                <li class="relative"><button onclick="app.switchTab('focus')" id="nav-focus" class="nav-item hover:text-ink transition-colors text-left w-full">Focus</button></li>
                <li class="relative"><button onclick="app.switchTab('lab')" id="nav-lab" class="nav-item hover:text-ink transition-colors text-left w-full">Lab</button></li>
                <li class="relative"><button onclick="app.switchTab('studio')" id="nav-studio" class="nav-item hover:text-ink transition-colors text-left w-full">Studio</button></li>
                <li class="relative"><button onclick="app.switchTab('daily')" id="nav-daily" class="nav-item hover:text-ink transition-colors text-left w-full">Daily</button></li>
            </ul>
        </nav>
        
        <nav class="mt-8 pt-8 border-t border-inkFaint">
            <ul class="space-y-3 font-mono text-[0.7rem] tracking-wider text-inkMuted">
                <li class="relative"><button onclick="app.switchTab('bio')" id="nav-bio" class="nav-item hover:text-ink transition-colors text-left w-full">Bio</button></li>
                <li class="relative"><button onclick="app.switchTab('contact')" id="nav-contact" class="nav-item hover:text-ink transition-colors text-left w-full">Contact</button></li>
                <li class="relative"><button onclick="app.switchTab('sns')" id="nav-sns" class="nav-item hover:text-ink transition-colors text-left w-full">SNS</button></li>
            </ul>
            <p class="pt-8 font-mono text-[0.65rem] text-inkMuted tracking-wider">2026</p>
        </nav>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 h-full overflow-y-auto custom-scroll relative">
        <div id="content-area" class="w-full max-w-5xl mx-auto px-6 py-12 md:px-24 md:py-24">
            <!-- Content injected via JS -->
        </div>
    </main>

    <!-- Application Logic -->
    <script>
        const database = {
            focus: [
                {
                    category: "Seminar",
                    title: "自主ゼミ：物理学小教程「力学・場の理論」",
                    desc: "現在は『場の理論』後半部を進行中。最小作用の原理 $\\delta S = 0$ を起点とし、古典力学を体系的に学び直す。<br><br>ゼミは週1回対面（長期休暇中はZoomやDiscord併用）で実施している。参加・見学、あるいは議論を希望される方は、Contactより連絡されたい。",
                    meta: "Weekly / Landau-Lifshitz",
                    hasButton: true,
                    // --- ここから追加するプロパティ ---
                    image: "landau-book.jpg", // 用意した画像のファイル名を指定
                    imageCaption: "書影：『物理学小教程 力学・場の理論』（ちくま学芸文庫）", // 引用元や注釈
                    linkUrl: "https://www.amazon.co.jp/%E5%8A%9B%E5%AD%A6%E3%83%BB%E5%A0%B4%E3%81%AE%E7%90%86%E8%AB%96%E2%80%95%E3%83%A9%E3%83%B3%E3%83%80%E3%82%A6-%E3%83%AA%E3%83%95%E3%82%B7%E3%83%83%E3%83%84%E7%89%A9%E7%90%86%E5%AD%A6%E5%B0%8F%E6%95%99%E7%A8%8B-%E3%81%A1%E3%81%8F%E3%81%BE%E5%AD%A6%E8%8A%B8%E6%96%87%E5%BA%AB-L-D-%E3%83%A9%E3%83%B3%E3%83%80%E3%82%A6/dp/4480091114", // 実際のAmazon等のリンク
                    linkText: "テキスト詳細を確認"
                    // --- ここまで ---
                },
                {
                    category: "Research",
                    title: "GKP Codes & Quantum Error Correction",
                    desc: "位相空間上の格子構造を利用した誤り訂正メカニズムの検証。2026年3月初旬の卒業論文提出に向けた最終調整。",
                    meta: "2026 / Thesis",
                    hasButton: false
                    // ※GKPの項目には画像・リンクがないため、プロパティを記述しなければ自動的に非表示になります。
                }
            ],
            lab: {
                physics: [
                    {
                        date: "2026-02-23",
                        title: "ランダウ=リフシッツ「力学・場の理論」§60. 電荷の静電エネルギー",
                        content: "荷電粒子を点とみなすことによって生じる、電荷の自己エネルギーが無限大になる内部矛盾について議論した。"
                    }
                    // {
                    //     date: "2026-00-00",
                    //     title: "",
                    //     content: ""
                    // }
                ]
            },
            studio: [
                {
                    groupName: "Watercolor",
                    items: [
                        { id: "w1", title: "Untitled", meta: "2026", image: "naturalgreen_2.jpg" },
                        { id: "w2", title: "Untitled", meta: "2025", image: "scattering.jpeg" },
                        { id: "w3", title: "Untitled", meta: "2025", image: "footprint.jpeg" }
                    ]
                },
                {
                    groupName: "Pen Drawing",
                    items: [
                        { id: "p1", title: "UzuUzu", meta: "2025", image: "pendrawing_uzu.jpeg" },
                        { id: "p2", title: "MAN", meta: "2025", image: "pendrawing_man.jpg" }
                    ]
                },
                {
                    groupName: "Photography",
                    items: [
                        { id: "ph1", title: "Untitled", meta: "", image: "ishikawa_1.jpeg" },
                        { id: "ph2", title: "Untitled", meta: "", image: "20251226_manaduru_1.jpeg" },
                        { id: "ph3", title: "Untitled", meta: "2025/11/17", image: "20251117_ikoma_1.jpeg" },
                        { id: "ph4", title: "Untitled", meta: "", image: "kameoka_1.jpeg" },
                        { id: "ph5", title: "Untitled", meta: "", image: "dragonfly_1.jpeg" },
                        { id: "ph6", title: "Untitled", meta: "", image: "yukiyama_tozan_1.jpeg" },
                        { id: "ph7", title: "Untitled", meta: "", image: "enoshima_20230227_2.jpg" },
                        { id: "ph8", title: "Untitled", meta: "", image: "granpa&me.jpeg" }
                    ]
                },
                {
                    groupName: "Sketch & Others",
                    items: [
                        { id: "s1", title: "Untitled", meta: "Rakugaki / 2025", image: "girl_2.jpeg" },
                        { id: "s2", title: "hakumaru", meta: "Fanart / 2025", image: "hakumaru.jpg" }
                    ]
                },
            ],
            daily: [
                { 
                    date: "Wednesdy, February 18, 2026", 
                    title: "自主ゼミ開催", 
                    content: "",
                    image: [] // 画像がない場合は空欄
                },
                { 
                    date: "Thursday, February 19", 
                    title: "柏原市散策", 
                    content: "自主ゼミのメンバーの案内で柏原市（河津国分駅周辺）を巡った。",
                    image: ["20260219_kashiwara_1.jpeg", "20260219_kashiwara_2.jpeg", "20260219_kashiwara_3.jpeg"] // 画像がない場合は空欄
                },
                { 
                    date: "Wednesdy, February 18, 2026", 
                    title: "名古屋へドライブ", 
                    content: "",
                    image: ["20260218_drive_1.jpeg", "20260218_drive_2.jpeg", "20260218_drive_3.jpeg", "20260218_drive_4.jpeg"] // 画像がない場合は空欄
                }
            ],
            bio: {
                name: "小林 麟太郎",
                origin: "福島県",
                base: "関西"
            },
            contact: {
                email: "rintaro.grandpa[at]icloud.com"
            },
            sns: [
                { name: "YouTube", url: "https://www.youtube.com/@rintarokobayashi/videos" },
                { name: "X (Twitter)", url: "#" },
                { name: "Instagram", url: "https://www.instagram.com/rintaro.grandpa/" },
                { name: "SoundCloud", url: "https://soundcloud.com/user-375792780?utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing" }
            ]
        };

        const app = {
            currentTab: 'focus',

            init() {
                // URLのハッシュ（#）を確認し、有効なタブ名であれば復元する
                const hash = window.location.hash.replace('#', '');
                const validTabs = ['focus', 'lab', 'studio', 'daily', 'bio', 'contact', 'sns'];
                if (hash && validTabs.includes(hash)) {
                    this.currentTab = hash;
                }
                this.switchTab(this.currentTab, false);

                // ブラウザの「戻る/進む」操作への対応
                window.addEventListener('popstate', () => {
                    const currentHash = window.location.hash.replace('#', '');
                    if (validTabs.includes(currentHash)) {
                        this.switchTab(currentHash, false);
                    }
                });
            },

            switchTab(tabId, updateHistory = true) {
                this.currentTab = tabId;
                
                // URLハッシュを更新し、状態を記録する
                if (updateHistory) {
                    window.history.pushState(null, null, '#' + tabId);
                }
                
                document.querySelectorAll('.nav-item').forEach(el => {
                    el.classList.remove('nav-active', 'text-ink');
                    el.classList.add('text-inkMuted');
                });
                const activeNav = document.getElementById(`nav-${tabId}`);
                if (activeNav) {
                    activeNav.classList.remove('text-inkMuted');
                    activeNav.classList.add('nav-active', 'text-ink');
                }

                document.querySelector('main').scrollTop = 0;
                this.render();
            },

            render() {
                const contentArea = document.getElementById('content-area');
                
                contentArea.classList.remove('fade-enter');
                void contentArea.offsetWidth; 
                contentArea.classList.add('fade-enter');

                let html = '';
                switch(this.currentTab) {
                    case 'focus': html = this.getFocusHtml(); break;
                    case 'lab': html = this.getLabHtml(); break;
                    case 'studio': html = this.getStudioHtml(); break;
                    case 'daily': html = this.getDailyHtml(); break;
                    case 'bio': html = this.getBioHtml(); break;
                    case 'contact': html = this.getContactHtml(); break;
                    case 'sns': html = this.getSnsHtml(); break;
                }
                
                contentArea.innerHTML = html;
                this.renderMath();
            },

            getFocusHtml() {
                return `
                    <div class="space-y-24">
                        ${database.focus.map(item => `
                            <article>
                                <div class="font-mono text-xs text-inkMuted mb-4 tracking-widest">${item.category}</div>
                                <h2 class="text-2xl md:text-3xl font-normal tracking-wide mb-8">${item.title}</h2>
                                <p class="text-sm md:text-base leading-relaxed text-ink max-w-2xl">${item.desc}</p>
                                
                                ${item.image ? `
                                <div class="mt-8 max-w-xs md:max-w-sm">
                                    <img src="${item.image}" alt="Reference" class="w-full h-auto border border-inkFaint shadow-sm">
                                    ${item.imageCaption ? `<div class="font-mono text-[0.65rem] text-inkMuted mt-2 text-right leading-relaxed">${item.imageCaption}</div>` : ''}
                                </div>
                                ` : ''}

                                ${item.linkUrl ? `
                                <div class="mt-6 font-mono text-sm tracking-wide">
                                    <a href="${item.linkUrl}" target="_blank" rel="noopener noreferrer" class="inline-block border-b border-ink pb-1 hover:text-inkMuted hover:border-inkMuted transition-colors">
                                        ${item.linkText || 'External Link'} ↗
                                    </a>
                                </div>
                                ` : ''}
                                
                                ${item.hasButton ? `
                                <div class="mt-8">
                                    <button class="px-6 py-3 border border-inkFaint font-mono text-xs text-inkMuted hover:border-ink hover:text-ink transition-colors cursor-not-allowed" disabled>
                                        Archive / Material (Coming soon)
                                    </button>
                                </div>
                                ` : ''}
                                
                                <div class="font-mono text-[0.7rem] text-inkMuted mt-12 border-b border-inkFaint pb-8 inline-block pr-12">${item.meta}</div>
                            </article>
                        `).join('')}
                    </div>
                `;
            },

            getLabHtml() {
                const renderPhysics = database.lab.physics.map(item => `
                    <div class="mb-16 max-w-3xl">
                        <div class="font-mono text-xs text-inkMuted mb-4 border-l-2 border-inkFaint pl-3">${item.date}</div>
                        <h3 class="text-xl mb-6 font-normal">${item.title}</h3>
                        <p class="text-sm leading-loose tracking-wide">${item.content}</p>
                    </div>
                `).join('');

                return `
                    <div>
                        <h2 class="font-mono text-xs tracking-widest uppercase border-b border-inkFaint mb-12 pb-4 inline-block">Physics / Seminar Log</h2>
                        <div class="space-y-8">
                            ${renderPhysics}
                        </div>
                    </div>
                `;
            },

            getStudioHtml() {
                let html = '<div class="w-full pb-32">';

                // 1. サブナビゲーション（インデックス）の生成
                let subNav = '<div class="flex flex-wrap gap-6 font-mono text-xs text-inkMuted mb-16 border-b border-inkFaint pb-4 pt-10 sticky top-0 bg-beige/95 backdrop-blur-sm z-20 -mx-6 px-6 md:-mx-0 md:px-0">';
                database.studio.forEach((group, index) => {
                    subNav += `<a href="#group-${index}" class="hover:text-ink transition-colors tracking-widest uppercase">${group.groupName}</a>`;
                });
                subNav += '</div>';
                
                html += subNav;

                // 2. 各カテゴリと画像の生成
                database.studio.forEach((group, index) => {
                    html += `
                        <div id="group-${index}" class="mb-32 scroll-mt-24">
                            <h3 class="font-serif text-xl md:text-2xl tracking-widest border-b border-inkFaint pb-4 mb-8 text-inkMuted">${group.groupName}</h3>
                    `;

                    // サムネイルグリッド
                    const thumbHtml = group.items.map(item => `
                        <a href="#img-${item.id}" class="aspect-[4/3] w-full img-placeholder hover:opacity-70 transition-opacity overflow-hidden">
                            ${item.image ? `<img src="${item.image}" class="w-full h-full object-cover" loading="lazy" alt="thumbnail">` : `<span class="text-[0.6rem] font-mono">No Img</span>`}
                        </a>
                    `).join('');

                    html += `
                            <div class="grid grid-cols-4 md:grid-cols-8 gap-2 mb-16">
                                ${thumbHtml}
                            </div>
                    `;

                    // メイン画像
                    const fullImagesHtml = group.items.map(item => `
                        <div id="img-${item.id}" class="scroll-mt-32 mb-32 group/img">
                            <div class="w-full h-[60vh] md:h-[80vh] img-placeholder mb-6 overflow-hidden">
                                ${item.image ? `<img src="${item.image}" class="w-full h-full object-contain" loading="lazy" alt="${item.title}">` : `<span class="font-mono text-sm text-inkMuted">No Image</span>`}
                            </div>
                            <div class="flex justify-between items-baseline border-b border-transparent group-hover/img:border-inkFaint pb-2 transition-colors">
                                <h2 class="font-serif text-base tracking-widest">${item.title || 'Untitled'}</h2>
                                <div class="font-mono text-xs text-inkMuted">
                                    ${item.meta}
                                </div>
                            </div>
                        </div>
                    `).join('');

                    html += `
                            <div class="w-full">
                                ${fullImagesHtml}
                            </div>
                        </div>
                    `;
                });

                html += '</div>';
                return html;
            },
            
            getDailyHtml() {
                const itemsHtml = database.daily.map(item => {
                    // 複数画像のグリッド展開ロジック
                    let imagesHtml = '';
                    if (item.images && item.images.length > 0) {
                        // 1枚なら1カラム、2枚以上なら2カラムのグリッドにする
                        const gridClass = item.images.length === 1 ? 'grid-cols-1' : 'grid-cols-1 md:grid-cols-2';
                        
                        const imgTags = item.images.map(img => `
                            <img src="${img}" alt="daily log image" loading="lazy" class="w-full h-auto object-cover aspect-[4/3] border border-inkFaint/30">
                        `).join('');

                        imagesHtml = `
                            <div class="mt-6 grid ${gridClass} gap-2 max-w-lg">
                                ${imgTags}
                            </div>
                        `;
                    }

                    return `
                    <article class="flex flex-col md:flex-row items-start gap-4 md:gap-12 py-10 border-b border-inkFaint/50 last:border-0">
                        <time class="font-mono text-[0.65rem] md:text-xs text-inkMuted w-40 shrink-0 pt-1 leading-relaxed">${item.date}</time>
                        <div class="flex-1 w-full">
                            <h3 class="font-serif text-base tracking-widest mb-4">${item.title}</h3>
                            
                            ${item.content ? `<p class="text-sm leading-loose tracking-wide text-inkMuted whitespace-pre-wrap">${item.content}</p>` : ''}
                            
                            ${imagesHtml}
                        </div>
                    </article>
                    `;
                }).join('');

                return `
                    <div class="max-w-4xl pt-4 pb-32">
                        <h2 class="font-mono text-xs tracking-widest uppercase border-b border-inkFaint mb-12 pb-4 inline-block">Daily Log</h2>
                        <div class="space-y-4">
                            ${itemsHtml}
                        </div>
                    </div>
                `;
            },

            getBioHtml() {
                return `
                    <div class="max-w-xl space-y-8 pt-4">
                        <h2 class="font-mono text-xs tracking-widest uppercase border-b border-inkFaint mb-12 pb-4 inline-block">Biography</h2>
                        <div class="grid grid-cols-3 gap-4 border-b border-inkFaint pb-6">
                            <div class="font-mono text-xs text-inkMuted">Name</div>
                            <div class="col-span-2 text-sm tracking-wider">${database.bio.name}</div>
                        </div>
                        <div class="grid grid-cols-3 gap-4 border-b border-inkFaint pb-6">
                            <div class="font-mono text-xs text-inkMuted">Origin</div>
                            <div class="col-span-2 text-sm tracking-wider">${database.bio.origin}</div>
                        </div>
                        <div class="grid grid-cols-3 gap-4 border-b border-inkFaint pb-6">
                            <div class="font-mono text-xs text-inkMuted">Base</div>
                            <div class="col-span-2 text-sm tracking-wider">${database.bio.base}</div>
                        </div>
                    </div>
                `;
            },

            getContactHtml() {
                return `
                    <div class="max-w-xl space-y-8 pt-4">
                        <h2 class="font-mono text-xs tracking-widest uppercase border-b border-inkFaint mb-12 pb-4 inline-block">Contact</h2>
                        <div class="font-mono text-sm tracking-wider">
                            <a href="mailto:${database.contact.email.replace('[at]', '@')}" class="hover:text-inkMuted transition-colors border-b border-ink pb-1">
                                ${database.contact.email}
                            </a>
                        </div>
                    </div>
                `;
            },

            getSnsHtml() {
                const linksHtml = database.sns.map(item => `
                    <a href="${item.url}" target="_blank" rel="noopener noreferrer" class="block font-mono text-sm border border-inkFaint p-6 hover:border-ink hover:bg-white/50 transition-all text-center">
                        ${item.name}
                    </a>
                `).join('');

                return `
                    <div class="max-w-xl space-y-8 pt-4">
                        <h2 class="font-mono text-xs tracking-widest uppercase border-b border-inkFaint mb-12 pb-4 inline-block">External Links</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${linksHtml}
                        </div>
                    </div>
                `;
            },

            renderMath() {
                setTimeout(() => {
                    if (window.renderMathInElement) {
                        const content = document.getElementById('content-area');
                        if (content) {
                            renderMathInElement(content, {
                                delimiters: [
                                    {left: '$$', right: '$$', display: true},
                                    {left: '$', right: '$', display: false},
                                    {left: '\\(', right: '\\)', display: false},
                                    {left: '\\[', right: '\\]', display: true}
                                ],
                                throwOnError: false
                            });
                        }
                    }
                }, 10);
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>

























